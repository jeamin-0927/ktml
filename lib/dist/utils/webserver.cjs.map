{
  "version": 3,
  "sources": ["../../src/utils/webserver.ts"],
  "sourcesContent": ["import * as http from 'http'\nimport { promises as fs } from \"fs\";\n\nconst server = http.createServer();\n\nconst request =\tasync ( \n\treq: http.IncomingMessage,\n\tres: http.ServerResponse\n) => {\n\tconst { url } = req;\n\tlet path = `./build${url?.replace(/.ktml/g, \".html\")}`;\n\tconst extension = url?.split(\".\").pop();\n\tconst isIndex = url?.endsWith(\"/\");\n\n\tif(isIndex) {\n\t\tpath = `./build${url}index.html`;\n\t}\n\n\ttry{\n\t\tawait fs.readFile(path);\n\t}\n\tcatch(e) {\n\t\tconsole.log(`\uD83D\uDD34 \uC11C\uBC84 :: [404] ${url}`);\n\t\tres.writeHead(404, { 'Content-Type': 'text/html' });\n\t\tres.write(\"404 Not Found\");\n\t\treturn res.end();\n\t}\n\n\tconst file = (await fs.readFile(path)).toString();\n\t\n\tconsole.log(`\uD83D\uDFE2 \uC11C\uBC84 :: [200] ${url}`);\n\n\tif(extension === \"html\") {\n\t\tres.writeHead(200, { 'Content-Type': 'text/html' });\n\t}\n\n\tres.write(file);\n\treturn res.end();\n}\n\nconst start = () => {\n\tconsole.log(\"\uD83D\uDEDC \uC11C\uBC84 :: \uC6F9 \uC11C\uBC84\uAC00 \uD3EC\uD2B8 3000\uBC88\uC5D0\uC11C \uC2DC\uC791\uB410\uC5B4\uC694.\");\n\tconsole.log(\"\uD83D\uDEDC \uC11C\uBC84 :: http://localhost:3000/\");\n\tconsole.log();\n}\n\nexport const stop = () => {\n\tserver.close();\n\tconsole.log(\"\uD83D\uDED1 \uC11C\uBC84 :: \uC6F9 \uC11C\uBC84\uAC00 \uC885\uB8CC\uB410\uC5B4\uC694.\");\n\tconsole.log();\n}\n\nconst webserver = async () => {\n\tserver.on('request', request);\n\tserver.listen(3000, start);\n}\n\nexport default webserver;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsB;AACtB,gBAA+B;AAE/B,IAAM,SAAc,kBAAa;AAEjC,IAAM,UAAU,OACf,KACA,QACI;AACJ,QAAM,EAAE,IAAI,IAAI;AAChB,MAAI,OAAO,UAAU,KAAK,QAAQ,UAAU,OAAO,CAAC;AACpD,QAAM,YAAY,KAAK,MAAM,GAAG,EAAE,IAAI;AACtC,QAAM,UAAU,KAAK,SAAS,GAAG;AAEjC,MAAG,SAAS;AACX,WAAO,UAAU,GAAG;AAAA,EACrB;AAEA,MAAG;AACF,UAAM,UAAAA,SAAG,SAAS,IAAI;AAAA,EACvB,SACM,GAAG;AACR,YAAQ,IAAI,mCAAkB,GAAG,EAAE;AACnC,QAAI,UAAU,KAAK,EAAE,gBAAgB,YAAY,CAAC;AAClD,QAAI,MAAM,eAAe;AACzB,WAAO,IAAI,IAAI;AAAA,EAChB;AAEA,QAAM,QAAQ,MAAM,UAAAA,SAAG,SAAS,IAAI,GAAG,SAAS;AAEhD,UAAQ,IAAI,mCAAkB,GAAG,EAAE;AAEnC,MAAG,cAAc,QAAQ;AACxB,QAAI,UAAU,KAAK,EAAE,gBAAgB,YAAY,CAAC;AAAA,EACnD;AAEA,MAAI,MAAM,IAAI;AACd,SAAO,IAAI,IAAI;AAChB;AAEA,IAAM,QAAQ,MAAM;AACnB,UAAQ,IAAI,yHAAkC;AAC9C,UAAQ,IAAI,kDAAiC;AAC7C,UAAQ,IAAI;AACb;AAEO,IAAM,OAAO,MAAM;AACzB,SAAO,MAAM;AACb,UAAQ,IAAI,qFAAuB;AACnC,UAAQ,IAAI;AACb;AAEA,IAAM,YAAY,YAAY;AAC7B,SAAO,GAAG,WAAW,OAAO;AAC5B,SAAO,OAAO,KAAM,KAAK;AAC1B;AAEA,IAAO,oBAAQ;",
  "names": ["fs"]
}
